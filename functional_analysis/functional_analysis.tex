\documentclass[a4paper,12pt]{article}
\usepackage[cp1251]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{bbm}
\usepackage{enumitem}


\newtheorem{theorem}{Теорема}[section]
\newtheorem{lemma}[theorem]{Лемма}
\newtheorem{proposition}[theorem]{Предложение}
\newtheorem{claim}[theorem]{Утверждение}
\newtheorem{corollary}[theorem]{Следствие}

%opening
\title{Функциональный анализ --- задачи}
\author{}
\date{}


\begin{document}
\maketitle


\section{Рудин --- Глава 1}
\begin{enumerate}
 \item
 \item
 \item
 \item
 \item Объём понятия ``ограниченное множество'' не изменится. Доказательство основано на том, что каждая окрестность нуля содержит уравновешенную окрестность нуля (теорема 1.14). А для уравновешенной окрестности нуля $V$ если
 $$E\subset sV$$
 для некоторого $s>0$, то
 $$E \subset tV$$
 при всех $t>s$.
 \item  Покажем, что каждое неограниченное множество содержит счётное неограниченное подмножество. Пусть $E$ неограничено. Найдётся окрестность нуля
 $V$, такая, что $E$ не содержится в $tV$ ни при каком $t>0$ (задача 5). Тогда при каждом натуральном $n$ существует $x_n\in E$, такое, что
 $x_n\notin nV$. Тогда множество $\{x_1, x_2, \ldots, x_n, \ldots\}$ неограничено (иначе оно содержалось бы во всех $nV$ начиная с некоторого места).
 \item
 \item
 \item
 \item $\Lambda\colon X\to Y$ линейно и сюрьективно, $Y$ конечномерно.
      \begin{enumerate}
        \item $\Lambda$ открыто. Выберем $e_1, \ldots, e_n$ --- базис в $Y$ и $x_1, \ldots, x_n$ в $X$ такие, что $\Lambda x_i=e_i$.
        Тогда из непрерывности сложения и умножения на скаляры в $X$ следует, что существует число $\varepsilon>0$,
        такое, что
        $$\alpha_1x_1+\ldots+\alpha_nx_n\in V,$$
        как только
        $$|\alpha_i|<\varepsilon, i = 1, \ldots, n.$$
        Значит,
        $$\alpha_1e_1+\ldots+\alpha_n e_n \in \Lambda V,$$
        как только
        $$|\alpha_i|<\varepsilon, i = 1, \ldots, n.$$
        Но
        $$\{\alpha_1e_1+\ldots+\alpha_ne_n \mid \max_{i=1,\ldots,n}|\alpha_i|<\varepsilon\}$$
        это окрестность нуля в $Y$ (потому что все векторные топологии на $Y$ одинаковы, в том числе и топология, порождённая нормой, равной
        максимуму координат в данном базисе). Вот мы и построили для данной окрестности нуля в $X$ окрестность нуля в $Y$, содержащуюся в её образе.
        Отсюда следует открытость $\Lambda$.
        \item Если ядро $\Lambda$ замкнуто, то $\Lambda$ непрерывно. Ну, это следует из непрерывности факторизации по замкнутому подпрострнству
        (пункт 1.41). Пусть $N$---ядро $\Lambda$. Тогда $\Lambda$ предстваляется в виде композиции
        $$\Lambda=T\circ\pi,$$
        где $\pi\colon X\to X/N$--- непрерывное факторотображение, а $T\colon X/N \to Y$ --- линейный изоморфизм конечномерных пространств,
        потому непрерывный.
        $\Lambda$ получается непрерывным как композиция непрерывных отображений.
       \end{enumerate}

 \item Допустим, есть не всюду плотное подпространство $L^p, 0<p<1$ конечной коразмерности. Тогда его замыкание --- замкнутое собственное подпространство $N$ пространства $L^p$ также конечной коразмерности (возможно, меньшей, чем у исходного подпространства). Ну и мы можем устроить
 факторотображение $\pi\colon L^p\to L^p/N$, оно линейно и непрерывно (теорема 1.41), и отображает $L^p$ на конечномерное пространство положительной
 размерности. Но конечномерное пространство локально выпукло. Противоречие с пунктом 1.47 --- такое отображение может быть только нулевым.
 \item
  \item
     \begin{enumerate}
      \item $\tau$-ограниченное множество является $\sigma$-ограниченным. Пусть $A$ --- некоторое $\tau$-ограниченное множество. Покажем, что
      оно $\sigma$-ограниченное. В силу задачи 6, можно считать, что $A$ счётно. Фиксируем $\varepsilon>0$. Пусть
      $$H_M=\{t \in [0, 1] \mid |f(t)| \le M \forall f \in A\}, M>0.$$
      В силу счётности $A$, множетво $H_M$ измеримо при любом $M$. В силу $\tau$ - ограниченности $A$ (которая в силу теоремы 1.37 равносильна ``обычной'' ограниченности множеств
      $$U_t=\{|f(t)|, f \in A\}$$
      для каждого $t\in [0,1]$) имеем
      $$\cup_{n=1}^{\infty}H_n=[0,1].$$
      Значит, существует натуральное число $N$, такое, что
      $$\mu(H_N) > 1 - \varepsilon,$$
      где $\mu$ --- мера Лебега на $[0,1]$. \\
      Тогда имеем
      $$\forall f \in A \enskip \mu\{t\in [0,1] \mid |f(t)| > N\} \le \varepsilon.$$
      Значит,
      $$\int\limits_0^1 \frac{|\varepsilon f(t)/N|}{1+|\varepsilon f(t)/N|}dt \le (1-\varepsilon)\varepsilon + \varepsilon \le 2 \varepsilon.$$
      Итак,
      $$\forall f \in A \enskip d\left(\frac{\varepsilon}{N}f, 0\right) \le 2\varepsilon.$$
      Значит, $\frac{\varepsilon}{N}A$ содержится в $3\varepsilon$-окрестности нуля в $\sigma$-топологии. В силу произвольности $\varepsilon$,
      с учётом задачи 5 это означает ограниченность $A$ в $\sigma$-топологии. Доказали.
      \item Отображение $\mbox{it} \colon (C, \tau)\to (C, \sigma)$ разрывно (хотя секвенциально непрерывно). Ну так это очевидно. Для непрерывности отображения $\mbox{id}$ нам надо, чтоб для любой $\sigma$-окрестности нуля существовала $\tau$-окрестность нуля внутри неё. Ну так возьмём такую
      $\sigma$-окрестность нуля:
      $$U_{\sigma}=\left\{f\in C \mid \int\limits_0^1 \frac{|f(t)|}{1+|f(t)|}dt<\frac12\right\}.$$
      Каждая $\tau$-окрестность нуля содержит подокрестность вида
      $$U_{t_1, \ldots, t_n, \varepsilon}=\{f\in C \mid |f(t_i)| < \varepsilon, i = 1, \ldots, n\}.$$
      Ясно, что существует непрерывная неотрицательная функция, которая в точках $t_1, \ldots, t_n$ принимает значение $0$, но равна $100$ на
      множестве меры больше $0.99$. Тогда эта функция лежит в $U_{t_1, \ldots, t_n, \varepsilon}$, но не лежит в $U_{\sigma}.$
      Вот и доказали раззрывность $\mbox{id}$.
      \\

       Надо ещё показать непосредственно, что в $(C, \tau)$ не существует счётной локальной базы. Ну, это очевидно примерно из тех же соображений.
       Надо показать, что не существует счётного набора окрестностей нуля, такого, что любая окрестность нуля содержит окрестность из этого набора.
       Допустим, такой набор существует. Каждая окрестность из этого набора содержит окрестность вида
       $$U_{t_1, \ldots, t_n, \varepsilon}=\{f\in C \mid |f(t_i)| < \varepsilon, i = 1, \ldots, n\}.$$
       Точек $t_i$, которые входят в определение какой-то из окрестностей этого набора, счётное число. Возьмём точку $t\in [0, 1]$, не
       совпадающую ни с одной из них. Тогда для этой точки окрестность
       $$\left\{f \in C \mid  |f(t)| < \frac12\right\}$$
       не содержит ни одной из выбранных окрестностей. Вот и всё.
      \item Представление линейных непрерывных функционалов на $(C, \tau)$. Пусть $\Lambda$ --- линейный непрерывный функционал на $(C, \tau)$.
      Существует окрестность нуля вида
      $$U_{t_1, \ldots, t_n, \varepsilon}=\{f\in C \mid |f(t_i)| < \varepsilon, i = 1, \ldots, n\},$$
      такая, что из $f\in U_{t_1, \ldots, t_n, \varepsilon}$ следует $|\Lambda f| < 1$. Ясно, что тогда имеет место неравенство
      $$\forall f \in C \enskip |\Lambda f| \le \frac{1}{\varepsilon}\max\{|f(t_1), \ldots, |f(t_n)|\}.$$
      Отсюда следует, что если $f\in C$ такова, что
      $$f(t_1)=\ldots=f(t_n)=0,$$
      то $\Lambda f=0$. Значит, если $f, g \in C$ совпадают на
      $t_1, \ldots, t_n$, то $\Lambda f = \Lambda g$. Осталось выбрать функции $h_i\in C$, такие, что
      $$h_i(t_j)=\delta_{ij}, 1\le i, j \le n.$$ Пусть $c_i=\Lambda(h_i).$
      Тогда
      $$\Lambda f = \Lambda \left(\sum\limits_{i=1}^n f(t_i)h_i\right)=\sum\limits_{i=1}^n f(t_i)\Lambda(h_i)=\sum\limits_{i=1}^n c_i f(t_i).$$
      Это и нужно было доказать.

      \item $(C, \sigma)$ не содержит выпуклых открытых множеств, отличных от $\emptyset$ и $C$. Надо показать, что для любой функции $h\in C$
      и любого $\varepsilon>0$ существует натуральное $N$ и функции $h_1, \ldots, h_N\in C$, такие, что
      $$h=h_1+\ldots+h_N$$
      и мера носителя каждой $h_i$ меньше $\varepsilon.$ Если мы построили такие $h_i$, то
      $$h=\frac{Nh_1+\ldots+Nh_N}{N},$$
      $$\forall i \enskip d(Nh_i, 0) < \varepsilon,$$
      и мы получаем, что выпуклая оболочка $\varepsilon$-окрестности нуля в $d$ содержит $h$. В силу произвольности $h$, выпуклая ооболочка
      $\varepsilon$-окрестности нуля совпадает с $C$. Осталось пояснить, как строить $h_i$.
      \item Отображение $\mbox{id}\colon (C, \sigma) \to (C, \tau)$ разрывно. Ну, теперь это ясно. Рассмотрим окрестность $U_1$ в $\tau$-топологии
      $$U_1=\left\{f\in C \mid \left|f\left(\frac12\right)\right|<1\right\}.$$
      Если $\mbox{id}$ непрерывно, то $U_1$ в $\sigma$-топологии должна быть открытой и выпуклой. Но в $(C, \sigma)$ нет открытых выпуклых множеств,
      отличных от $\emptyset$ и $C$. Вот и всё. $U_1$ не открыта в $(C, \sigma)$.
     \end{enumerate}
 \item Известно, что два семейства полунорм $\{p_\alpha\}$ и $\{q_\beta\}$ на векторном пространстве $X$ эквивалентны (то еть задают одну и ту же топологию), если для любой полунормы $p_\alpha$ из первого семейства
 найдутся полунормы $q_{\beta_1}, q_{\beta_2}, \ldots, q_{\beta_m}$ из второго семейства и константа $C>0$, такие, что
 $$\forall x\in X \enskip p_\alpha(x) \le C(q_{\beta_1}(x)+\ldots+q_{\beta_m}(x)),$$
 и для любой полунормы $q_\beta$ из второго семейства найдутся полунормы $p_{\alpha_1}, \ldots, p_{\alpha_n}$ из первого семейства и константа
 $D>0$, такие, что
 $$\forall x \in X \enskip q_\beta(X) \le D(p_{\alpha_1}(x)+\ldots+p_{\alpha_n}(x)).$$
 (Это стандартный факт, он описан, например, у Саймона-Рида).
 Проверим такие неравенства для наших трёх семейств полунорм.
 Имеем
 $$\int\limits_0^1 |D^n f(x)| dx \le \left( \int\limits_0^1 |D^nf(x)|^2dx\right)^{1/2} \le \sup_{x\in [0,1]} |D^n f(x)|.$$
 Осталось оценить полунормы $\sup_{x\in [0,1]} |D^n f(x)|$ через полунормы $\int\limits_0^1 |D^n f(x)| dx$.
 Имеем
 \begin{multline*}
  \sup_{x\in [0,1]} |D^n f(x)|=\max_{x\in [0,1]} |D^n f(x)| \le  \min_{x \in [0,1]}|D^n f(x)| + \int\limits_0^1 |D^{n+1}f(x)|dx \le \\ \le
    \int\limits_0^1 |D^nf(x)|dx + \int\limits_0^1 |D^{n+1}f(x)|dx.
 \end{multline*}
 Вот всё и доказали.

 \item Пространство $C(\Omega)$ не обладает свойством Гейне-Бореля. Обозначим для компакта $K$: $C_K$ --- подпространство $C(\Omega)$, состоящее из функций,  носители которых лежат в $K$. $C_{K_2}$ не обладает свойством Гейне-Бореля (внутренность
 $K_2$ непустая --- в ней содержится $K_1$). В $C_{K_2}$ есть ограниченное, но не вполне ограниченное множество. Оно же будет таковым в
 $C(\Omega)$. Или, чуть по-другому, мы можем взять множество
 $$H=\{f\in C_{K_2} \colon \sup_{t\in K_2}|f(t)| \le 1\}.$$
 Это множество $H$ замкнуто и ограничено в $C(\Omega)$, но не компактно.
 Кстати, почему $H$ замкнуто? Да потому что если $|g(t_0)|>1, t_0\in K_2$, то у $g$ есть окрестность $U$, в которой
 $$|h(t_0)|>1, h\in U.$$
 Ну а ограниченность $H$ следует из того, что на $H$ все полунормы $p_n$ ограничены единицей.
 \item Топология $C(\Omega)$ не зависит от выбора $K_n$. Ну если есть две системы компактов $K_n$ и $K_n'$, то для любого $n$ можно выбрать
 $m$ так, что
 $$K_n\subseteq K_m'.$$
 Это следует из того, что компакт $K_n$ покрыт внутренностями компактов $K_s'$, и можно выбрать конечное подпокрытие.
 Ну а дальше можно воспользоваться тем же критерием эквивалентности систем полунорм, которым мы пользовались в задаче 14.
 Для $C^\infty(\Omega)$ доказательство аналогичное.
 \item
 \item
 \item
 \item
\end{enumerate}

\section{Рудин --- Глава 2. Полнота}
\begin{enumerate}
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item $X, Y, Z$ банаховы, $B\colon X\times Y \to Z$ непрерывное билинейное. Докажем:
 $$\|B(x,y)\| \le M\|x\| \|y||.$$

 Во-первых, заметим, что для каждого $x\in X$ линейное отображение $l_x\colon Y\to Z$, определяемое $l_x(y)=B(x,y)$, непрерывно. Действительно, оно непрерывно по совокупности переменных, значит, и по одной $y$.

 Во-вторых, отображение $F_B$ из $X$ в банахово пространство не\-пре\-рыв\-ных линейных операторов из $Y$ в $Z$, заданное формулой
 $$F_B(x)=l_x,$$
 ограничено. Действительно, покажем, что существует $M$ такое, что если
 $\|x\|\ \le 1$, то
 $$\|F_B(x)\| = \|l_x\| \le M.$$
 Из непрерывности $B$ следует, что найдутся $\delta_1, \delta_2 > 0$ такие, что $\|B(x,y)\|<1$,
 как только $\|x\|<\delta_1, \|y\|<\delta_2$. Отсюда, ясно, вытекает, что $\|B(x,y)\| \le C$ при $\|x\| \le 1, \|y\| \le 1$. Рассмотрим семейство операторов $l_x$
 при всех $x$, таких, что $\|x\| \le 1$. Значения этих операторов в каждой точке $y\in Y$ ограничены:
 $$\|l_x(y)\| = \|B(x,y)\| \le C\|y\|.$$
 А значит, по теореме Банаха-Штейнгауза
 нормы всех этих операторов ограничены одним числом:
 $$\|l_x\| \le M, \|x\| \le 1.$$
 А это и означает, что оператор $F_B$ ограничен: $\|F_B\| \le M.$

 Значит, имеем
 $$\|l_x\| \le M\|x\|, \|B(x,y)\| = \|l_x(y)\| \le \|l_x\| \|y\| \le M\|x\| \|y\|.$$

 \item
\end{enumerate}

\section{Рудин --- Глава 3. Выпуклость}
\begin{enumerate}
	\item 
	\item 
	\item 
	\item 
	\item c) Каждая слабо сходящаяся последовательность в $l^1$ сильно сходится.
	Достаточно показать, что каждая слабо сходящаяся к нулю последовательность сильно сходится к нулю. 
	От противного. Пусть $x_n$ --- слабо сходящаяся к нулю последовательность, норма каждого элемента которой не меньше $1$. 
	Покажем, что такого не может быть. Сначала заметим, что из слабой сходимости следует, что для любого натурального  $i$
	$$x_n(i)\to 0, n\to\infty.$$
	Выберем по индукции подпоследовательность $x_{n_k}$ и натуральные числа $q_k$ так, что выполняются следующие условия
	\begin{itemize}
		\item $q_1<q_2<q_3<\ldots$
		\item $\sum\limits_{j<q_k}|x_{n_k}(j)|<\frac{1}{2^k}$
		\item $\sum\limits_{j \ge q_{k+1}}|x_{n_k}(j)|<\frac{1}{2^k}$
    \end{itemize}
    Построим элемент $h \in l^{\infty}$ таким образом: 
    $$h(j)=\frac{x_{n_k}(j)^*}{|x_{n_k}(j)|}, q_k\le j < q_{k+1}$$
    где $*$ означает сопряжение. 
    (Если для какого-то такого $j$ окажется $x_{n_k}(j)=0$, то положим
    $h(j)=0$). 	
    Имеем тогда для любого $k>2$
    \begin{multline*}
    	|hx_{n_k}|=\left|\sum\limits_{j=0}^\infty h(j)x_{n_k}(j)\right|=\\=
    	\left|\sum\limits_{j=0}^{q_k - 1} h(j)x_{n_k}(j)+
    	\sum\limits_{j=q_k}^{q_{k+1}-1} h(j)x_{n_k}(j)+
    	\sum\limits_{j=q_{k+1}}^\infty h(j)x_{n_k}(j)\right| \ge \\ \ge
    	\left|\sum\limits_{j=q_k}^{q_{k+1}-1} h(j)x_{n_k}(j)\right| - 
    	\left|\sum\limits_{j=0}^{q_k-1} h(j)x_{n_k}(j)\right|-
    	\left|\sum\limits_{j=q_{k+1}}^\infty h(j)x_{n_k}(j)\right| \ge \\ \ge
    	\sum\limits_{j=q_k}^{q_{k+1}-1}|x_{n_k}(j)|-
    	\sum\limits_{j=0}^{q_k-1} |x_{n_k}(j)|-
    	\sum\limits_{j=q_{k+1}}^\infty |x_{n_k}(j)|| \ge \\ \ge
    	1-\frac{2}{2^k}-\frac{2}{2^k}=1 - \frac{1}{2^{k-2}}.     	
    \end{multline*}
    Это противоречит $hx_n\to 0, n\to\infty$, что следует из слабой сходимости
    $x_n$. Противоречие. Всё доказано. 
\end{enumerate}

 \section{Халмош}
 \begin{enumerate}
  \item
  \item Координатное доказательство леммы Рисса.
  Пусть $l$ --- непрерывный линейный функционал на $H$, его норма $k$. Пусть $c_i=l(e_i)$. Тогда
  $$l(a_1 e_1 + \ldots + a_n e_n) = a_1 c_1 + \ldots + a_n c_n.$$
  Нам надо показать, что $\sum\limits_{k} |c_k|^2 < \infty$.  Для этого оценим
  $$|c_1|^2 + \ldots + |c_n|^2.$$
  Из неравенства $\|l\| \le K$ следует
  $$|a_1 c_1 + \ldots + a_n c_n| \le K \sqrt{|a_1|^2 + \ldots + |a_n|^2}.$$

  Это что-то похожее на неравенство Коши-Буняковского, и левая часть максимальна при $a_i=c_i^*$. Подставляя $a_i=c_i^*$, получаем
  $$\sqrt{|c_1|^2 + \ldots + |c_n|^2} \le K.$$
  Вот и всё.
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item Элементарное доказательство теоремы Банаха-Штейнгауза.

 Пусть есть совокупность линейных непрерывных операторов $A_{\alpha}$ на гильбертовом пространстве $H$, которая не ограничена по норме, но ограничена на каждом векторе.
 Построим вектор, на котором она неограничена, и тем самым получим противоречие.
 Построим по индукции последовательности $A_n\in \{A_{\alpha}\}$, $f_n\in H$ с такими свойствами:
 \begin{enumerate}
 \item $\|f_n\| =m_n= \frac{1}{2^n (1 + \max(\|A_1\|, \ldots, \|A_{n-1}\|))}$;
 \item $\|A_n f_n\| \ge 2^n + \|A_n(f_1+\ldots+f_{n-1})\|.$

 Такой $A_n$ существует, ибо множество
 $\{\|A_\alpha (f_1+\ldots+f_{n-1})\|\}$ ограничено, и, таким образом, правая часть
 $$2^n + \|A_\alpha(f_1+\ldots+f_{n-1})\|$$
 ограничена (при фиксированном $n$), а левая часть
 $$\sup\limits_{\|f\|=m_n}\|A_\alpha f\|$$
 неограничена в силу неограниченности норм $A_\alpha$.
 \end{enumerate}

 Имеем:
 \begin{enumerate}
 \item Ряд $\sum\limits_n{f_n}$ сходится, ибо $\|f_n\|\le\frac{1}{2^n}$. Пусть $f=\sum\limits_n {f_n}.$
 \item При $k>0$ имеем
 $$\|A_n f_{n+k}\| \le \|A_n\| \|f_{n+k}\| \le \frac{1}{2^{n+k}}.$$
 Здесь мы воспользовались неравенством
 $$\|f_{n+k}\| =m_{n+k} \le \frac{1}{2^{n+k} \|A_n\|},$$
 случай $A_n=0$ нужно рассмотреть отдельно, но и в нём всё получается.
 Отсюда, учитывая непрерывность оператора $A_n$,
 $$\|A_n\sum\limits_{k=n+1}^{\infty} f_k\| \le \sum\limits_{k=n+1}^{\infty} \|A_n f_{k}\| \le \frac{1}{2^n}.$$
  Итак,
 $$\|A_n(f_1+\ldots+f_n)\| \ge 2^n, \|A_n\sum\limits_{k=n+1}^{\infty} f_k\| \le \frac{1}{2^n}.$$
 В итоге,
 $$\|A_nf\| \ge 2^n-\frac{1}{2^n}.$$
 Итак, множество $\{A_nf\}_{n=1}^{\infty}$ неограничено.
 \end{enumerate}

 \item
 \item
 \item
 \item
\item
 \item
 \item
 \item
  \item
 \item
 \item
 \item
\item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item Нужно элементарное доказательство теоремы Банаха об обратном операторе.
 $A\colon H\to K$ взаимно однозначный. Надо показать, что он ограничен снизу.

 Я пробовал сначала построить по\-сле\-до\-ва\-тель\-ность
 векторов в $H$, которая по норме стремится к бесконечности, но образы которой сходятся  (в $K$). Конечно, такую последовательность построить можно, но это ничего не даёт.

 Идея нашлась, когда я стал плясать не от оператора $A$, а от оператора $A^{-1}.$ Всё сразу сводится к применению теоремы Банаха-Штейнгауза. Мы выбираем ортонормированный базис $e_1, e_2, \ldots$ в $H$ и определяем операторы
 $B_n\colon K \to H$ таким образом: $B_n$ переводит вектор $z\in K$ в проекцию вектора
 $A^{-1}z$ на линейную оболочку $e_1, \ldots, e_n.$ Так мы получаем совокупность линейных опе\-ра\-то\-ров $\{B_n\}$, которая ограничена на каждом векторе. Значит, она и вообще ограничена:
 $$\|B_nz\| \le C\|z\| \enskip \forall n \forall z \in K.$$
 Тогда в силу сходимости $B_nz \to A^{-1}z, n \to \infty$ получаем
 $$\|A^{-1}z\| \le C\|z\| \enskip \forall z \in K.$$

 Но это рассуждение неполное. Мы не показали, что $B_n$ являются ограниченными операторами. На самом деле, это непонятно как показывать.

Дальше у меня получилось рассуждение, похожее на рассуждение из Халмоша. Я случайно придумал основной шаг.

Если $A\colon H \to K$ --- сюрьективный ограниченный оператор, то $Im A^*$ замкнуто. Действительно, пусть $A^* x_n\to y$. Тогда
для любого вектора $z \in H$ имеем
$$(x_n, Az)=(A^* x_n, z)\to (y,z).$$
Но в виде $Az$ представляется любой вектор из $K$. Поэтому для любого вектора $h\in K$ последовательность
$$(x_n, h)$$
сходится. Отсюда следует, что последовательность $x_n$ ограничена и слабо сходится к некоторому вектору $x_0$ (сильная сходимость отсюда не следует). \
А тогда для любого вектора $z\in H$
$$(A^*x_0, z)=(x_0, Az)=\lim\limits_{n\to\infty}(x_n, Az)=(y, z),$$
и $y=A^* x_0$. Итак, доказали, что
$y\in Im A^*$. Но есть такое чувство, что мы воспользовались Банахом-Алаоглу, когда говорили, что $x_n$ имеет слабый предел...

Ну а теперь в условиях исходной задачи мы можем показать, что $A^*$ также взаимно однозначно отображает $K$ на $H$.
Действительно, если $A^*z=0$, то
$$(z, Ah)=(A^*z, h)=0$$
для любого $h\in H$. Но в виде $Ah$ предстваляется любой вектор из $K$.
Поэтому $z=0$. Итак, $ker A^*=0$. Если $z$ ортогонален $Im A^*$, то
$$(Az, h)=(z, A^*h)=0$$
для любого $h\in H$, и $Az=0$, а значит, $z=0$.
Итак, $Im A^*=H$.

Как теперь из условия взаимной однозначности $A^*$ следует утверждение задачи?
Для любого вектора $z\in K$ и вестора $h\in K$ имеем
$$(A^{-1}z, A^*h)=(z, h).$$
Это означает (в силу $Im A^*=H$), что проекции векторов из
$$A^{-1}\{x\in K \mid \|x\| \le 1\}$$
на любой вектор из $H$ ограничены в совокупности.
И из Банаха-Штейнгауза мы заключаем, что это множество векторов
$$A^{-1}\{x\in K \mid \|x\| \le 1\}$$
ограничено. А это и означает ограниченность оператора $A^{-1}$. Всё.
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item
 \item Предположим, что
 $$\begin{pmatrix}
  A & B \\
  C & D
 \end{pmatrix}$$
 обратимо, а $AD-BC$ необратим. Тогда есть два варианта.
  \begin{itemize}
   \item $ker(AD-BC)$ ненулевое. Тогда есть элемент
   $$x \in ker(AD-BC).$$ Рассмотрим вектор
   $$\begin{pmatrix}
      (\mu D - \lambda B)x\\
      (\lambda A-\mu C)x
     \end{pmatrix}
   $$
   Имеем
   $$
   \begin{pmatrix}
      A & B \\
      C & D
   \end{pmatrix}
   \begin{pmatrix}
      (\mu D - \lambda B)x\\
      (\lambda A-\mu C)x
     \end{pmatrix}
     =
   \begin{pmatrix}
      \mu(AD-BC)x\\
      \lambda(AD-BC)x
     \end{pmatrix}=
        \begin{pmatrix}
      0\\
      0
     \end{pmatrix}.
   $$
   В силу обратимости
    $$\begin{pmatrix}
  A & B \\
  C & D
 \end{pmatrix}$$
  отсюда следует, что $(\mu D - \lambda B)x=0, (\lambda A - \mu C)x = 0.$
  В частности, $Ax=Bx=Cx=Dx=0.$ А тогда
  $$
  \begin{pmatrix}
   x \\ x
  \end{pmatrix} \in
  ker  \begin{pmatrix}
  A & B \\
  C & D
 \end{pmatrix}
  $$
  Это противоречит обратимости
  $$
  \begin{pmatrix}
  A & B \\
  C & D
 \end{pmatrix}ю
 $$
 Всё.

 \item $Im(AD-BC)\ne H.$
 Имеем
 $$
 \begin{pmatrix}
  D & -B \\
  -C & A
 \end{pmatrix}
 \begin{pmatrix}
  A & B \\
  C & D
 \end{pmatrix}=
 \begin{pmatrix}
  AD-BC & 0 \\
  0 & AD-BC
 \end{pmatrix}.
 $$
 Поскольку
 $$
 Im
  \begin{pmatrix}
  A & B \\
  C & D
 \end{pmatrix}=H\oplus H,
 $$
 то для любых $u, v\in H$
 $$Du-Bv\in Im(AD-BC), -Cu+Av\in Im(AD-BC).$$
 В частности,
 $$ImA\subseteq Im(AD-BC), Im B \subseteq Im(AD-BC),$$
 $$Im C \subseteq Im(AD-BC), Im D \subseteq Im(AD-BC).$$
 А тогда
 $$
 Im
  \begin{pmatrix}
  A & B \\
  C & D
 \end{pmatrix}\subseteq Im(AD-BC)\oplus Im(AD-BC).
 $$
 Всё.
  \end{itemize}

А в другую сторону --- легко следует из
 $$
 \begin{pmatrix}
  D & -B \\
  -C & A
 \end{pmatrix}
 \begin{pmatrix}
  A & B \\
  C & D
 \end{pmatrix}=
 \begin{pmatrix}
  AD-BC & 0 \\
  0 & AD-BC
 \end{pmatrix}.
 $$
 \item По решению задачи 41, оператор обратим тогда и только тогда, когда обратим его сопряжённый. Поэтому достаточно исследовать
 обратимость оператора
 $$
 \begin{pmatrix}
  A^* & C^* \\
  B^* & D^*
 \end{pmatrix}
 $$
 Покажем, что из его обратимости следует обратимость оператора $D^*A^*-C^*B^*$, равносильная обратимости $AD-BC$. Во-первых, из сюръективности
 оператора
 $$
  \begin{pmatrix}
  A^* & C^* \\
  B^* & D^*
 \end{pmatrix}
 $$
 следует, что для любых $u, v \in H$ найдутся $x, y \in H$, такие, что
 $$
  \begin{pmatrix}
  A^* & C^* \\
  B^* & D^*
 \end{pmatrix}
  \begin{pmatrix}
  u \\
  v
 \end{pmatrix}=
  \begin{pmatrix}
  x \\
  y
 \end{pmatrix}.
 $$
 Отсюда следует
$$A^*u+C^*v=x$$
$$B^*u+D^*v=y$$
Домножим первое из этих равенств слева на $D^*$, а второе слева на $C^*$, и вычтем, получим
$$(D^*A^*-C^*B^*)u=D^*x-C^*y$$.
В силу обратимости $D^*$, правая часть пробегает всё $H$. Значит, и левая тоже, и оператор
$$D^*A^*-C^*B^*$$
сюръективен. А инъективен ли он? Да. Действительно, допустим, для какого-то ненулевого вектора $u$ имеет место
$$(D^*A^*-C^*B^*)u=0.$$
Тогда положим
$$v=-(D^*)^{-1}B^*u.$$
Имеем
$$
\begin{pmatrix}
  A^* & C^* \\
  B^* & D^*
 \end{pmatrix}
  \begin{pmatrix}
  u \\
  v
 \end{pmatrix}=
 \begin{pmatrix}
  A^* & C^* \\
  B^* & D^*
 \end{pmatrix}
  \begin{pmatrix}
  u \\
  -(D^*)^{-1}B^*u
 \end{pmatrix}=\
   \begin{pmatrix}
    0 \\
    0
 \end{pmatrix}.
$$
Противоречие с инъективностью оператора
$$
\begin{pmatrix}
  A^* & C^* \\
  B^* & D^*
 \end{pmatrix}.
$$
А в другую сторону? Похожими рассуждениями.


\item Это несложная задача. Имеем
$$
\begin{pmatrix}
  A & B \\
  0 & D
 \end{pmatrix}
  \begin{pmatrix}
  u \\
  0
 \end{pmatrix}=\
   \begin{pmatrix}
    Au \\
    0
 \end{pmatrix}.
 $$
 Поэтому из обратимости
 $$
 \begin{pmatrix}
  A & B \\
  0 & D
 \end{pmatrix}
 $$
 следует  $ker A = 0.$ А поскольку $A$ конечномерный, то отсюда следует, что $A$ обратим.
 Далее, если $Dv=0$, где $v\ne 0$, то
 $$
 \begin{pmatrix}
  A & B \\
  0 & D
 \end{pmatrix}
  \begin{pmatrix}
  -A^{-1}Bv \\
  v
 \end{pmatrix}=\
   \begin{pmatrix}
    0 \\
    0
 \end{pmatrix}.
 $$
 Итак, $ker D=0$ тоже. Кроме того, покольку оператор
$$
 \begin{pmatrix}
  A & B \\
  0 & D
 \end{pmatrix}
 $$
 сюръективен, то из равенства
 $$
 \begin{pmatrix}
  A & B \\
  0 & D
 \end{pmatrix}
  \begin{pmatrix}
  u \\
  v
 \end{pmatrix}=\
   \begin{pmatrix}
    Au+Bv \\
    Dv
 \end{pmatrix}.
 $$
 следует, что в виде $Dv$ представляется любой вектор из $K$. Итак, $D$ сюръективен, и с нулевым ядром. Значит, он обратим.

\item Что происходит со спектром при сопряжении? Про точечный спектр и спектр сжатия --- легко.
Интересно только про предельный спектр --- куда он переходит при сопряжении?
Посмотрим, куда переходит $\Pi(A)\setminus (\Pi_0(A) \cup \Gamma(A))$. Покажем, что если
$$\lambda \in \Pi(A)\setminus (\Pi_0(A) \cup \Gamma(A)),$$
то
$$\overline{\lambda} \in \Pi(A^*)\setminus (\Pi_0(A^*) \cup \Gamma(A^*)).$$
Легко видеть, что $\overline{\lambda}\notin \Gamma(A^*)$, поскольку $\lambda \notin \Pi_0(A)$, $ker(A-\lambda)=0.$
Легко также видеть, что $\overline{\lambda}\notin \Pi_0(A^*)$, поскольку $\lambda \notin \Gamma(A)$. Но оператор $A-\lambda$
необратим, поэтому $A^*-\overline{\lambda}$ также необратим (см. решение задачи 41). Значит, $\overline{\lambda}$ лежит в спектре $A^*$, и ему
негде больше лежать, кроме как в
$$\Pi(A^*)\setminus (\Pi_0(A^*) \cup \Gamma(A^*)).$$
Так куда тогда переходит $\Pi(A)$?
$\lambda \in \Pi(A)$ тогда и только тогда, когда
$$\overline{\lambda} \in \Pi(A^*)\setminus \Pi_0(A^*) \cup \Gamma(A^*).$$

Приведём ещё интересное рассуждение.
Допустим, $A$ неограничен снизу. Покажем, что тогда $A^*$ не сюръективен.
Имеем: существует последовательность $f_n$ с $\|f_n\|\to \infty$, такая, что последовательность $Af_n$ ограничена.
Тогда для любого вектора $z$ последовательность $(Af_n, z)$ ограничена. Но
$$(Af_n,z)=(f_n, A^*z).$$
Если бы $A^*$ был сюръективен, то последовательность $(f_n, h)$ была бы ограничена для любого вектора $h$, откуда бы следовала
ограничен\-ность $f_n$. Значит, $A^*$ несюръективен.
Из этого рассуждения как раз следует, что необратимость $A$ эквивалентна необратимости $A**$. Только это, вроде, доказано проще,
чем в решении 41 (моём).


\item
\item
\item Задачу можно решить и без теории колец, используя теорию операторов.
Пусть сначала $\lambda \ne 0, \lambda \in \Gamma(AB).$ Покажем, что $\lambda \in \Gamma(BA)$.
Существует вектор $z \ne 0$, такой, что для любого $x$
$$((AB-\lambda)x, z)=0.$$
 Отсюда для любого $x$
$$(x, (B^*A^*-\overline{\lambda})z)=0.$$
Отсюда $(B^*A^*-\overline{\lambda})z=0$. Применим сюда оператор $A^*$. Получаем
$$(A^*B^*-\overline{\lambda})A^*z=0.$$
Но если $A^*z=0$, то из $(B^*A^*-\overline{\lambda})z=0$ получаем $\lambda=0$, что не так.
Итак, обозначая $u=A^*z\ne 0$, получаем
$$(A^*B^*-\overline{\lambda})u=0,$$
и для любого $x$
$$(x, (A^*B^*-\overline{\lambda})u)=0,$$
$$(BA-\lambda)x, u)=0.$$
Значит, $\lambda \in \Gamma(BA)$.

Пусть теперь $\lambda \ne 0, \lambda \in \Pi(AB).$ Покажем, что $\lambda \in \Pi(BA)$. Существует не сходящаяся к $0$ последовательность
$f_n$, такая, что
$$(AB-\lambda)f_n\to 0, n \to \infty.$$
Отсюда
$$B(AB-\lambda)f_n \to 0, n \to \infty,$$
$$(BA-\lambda)(Bf_n) \to 0, n \to \infty.$$
Если $Bf_n\to 0, n \to \infty$, то из
$$(AB-\lambda)f_n\to 0, n \to \infty$$
получаем $\lambda f_n \to 0, n\to \infty$, и $\lambda=0$. А это не так. Итак, для $u_n=Bf_n$ получаем:
$u_n$ не сходится к $0$, а $(BA-\lambda)u_n$ сходится к $0$. Это и означает неограниченность снизу оператора $BA-\lambda$.
Всё доказано.

\item Замкнутость предельного спектра, вроде бы, тривиальна.
Если $\lambda_0$ не лежит в предельном спектре оператора $A$, то $A-\lambda_0$ ограничен снизу, то есть существует $\mu>0$, такое, что
для любого $x\in H$
$$\|(A-\lambda_0)x\| \ge \mu \|x\|.$$
Тогда при $|z|<\mu$
$$\|(A-\lambda_0-z)x\| \ge (\mu - |z|)\|x\|,$$
и оператор $A-\lambda_0-z$ ограничен снизу.
\item Граница спектра оператора $A$ содержится в предельном спектре. Во-первых, спектр замкнут, поэтому его граница содержится в самом спектре.
Допустим, какая-то точка границы спектра не содержится в предельном спектре. Пусть это точка $\lambda_0$.
Тогда она содержится в спектре сжатия. Это во-первых. А во-вторых, $\lambda_0$ лежит на границе спектра (и не является внутренней точкой спектра),
и существуют сколь угодно близкие к $0$ комплексные $z$, такие, что
$$A-\lambda_0-z$$
обратим.
Итак, поскольку $\lambda_0$ не содержится в предельном спектре, то существует $\mu>0$, такое, что для любого $x\in H$
$$\|(A-\lambda_0)x\| \ge \mu \|x\|.$$
В этом случае $Im(A-\lambda_0)$ замкнут, но не совпадает с $H$. Возьмём ортогональный $Im(A-\lambda_0)$ ненулевой вектор $h$.
Если $A-\lambda_0-z$ обратим, то существует $x\in H$, такое, что
$$(A-\lambda_0-z)x=h.$$
Ясно, что $x\ne 0$.
Отсюда получаем
$$((A-\lambda_0)x-zx, (A-\lambda_0)x)=0,$$
$$z(x, (A-\lambda_0)x)=\|(A-\lambda_0)x\|^2,$$
$$|z|\times \|(A-\lambda_0)x\|\|x\| \ge  \|(A-\lambda_0)x\|^2,$$
$$|z| \|x\| \ge \|(A-\lambda_0)x\| \ge \mu \|x\|,$$
$$|z| \ge \mu.$$
Это противоречит существованию сколь угодно близких к $0$ $z$ таких, что
$$A-\lambda_0-z$$
обратим.
Итак, получили противоречие. Всё доказано.

\end{enumerate}

\section{Пирковский}

\begin{enumerate}
 \item Задача о функциональном исчислении.
 \begin{enumerate}[label=1.\arabic*.]
  \item Условие $M\supset \{\lambda_1, \ldots, \lambda_n\}$ необходимо для разрешимости задачи функционального исчисления с $A=F(M)$.
  Допустим, $\lambda_k \notin M$. Нам нужно показать, что не существует гомоморфизма из алгебры всех функций на $M$ в алгебру операторов, который переводит многочлены куда надо. Допустим, такой гомоморфизм $\gamma_A$ существует.
  Имеем
   $$\gamma_A(\lambda_k-t)\gamma_A\left(\frac{1}{\lambda_k-t}\right)=\gamma_A(1)=1_E,$$
   $$(\lambda_k-A)\gamma_A\left(\frac{1}{\lambda_k-t}\right)=1_E.$$
   Но оператор $\lambda_k-A$ необратим. Противоречие.
\item $$T=\begin{pmatrix} 0 & 1 \\ 0 & 0 \end{pmatrix}.$$
   1) Не существует оператора $S$ с $S^2=T.$ Допустим, $S^2=T.$ Тогда $\mathop{\mbox{ker}} S$ --- это не всё $\mathbb{C}^2$ и не $0$ (в первом случае оператор $S$ был бы нулевым,
   во втором невырожденным, и оба этих случая противоречат равенству $S^2=T$). Значит, $\mathop{\mbox{ker}} S$ одномерно. Аналогично,
   $\mathop{\mbox{Im}} S$ одномерно. Если $\mathop{\mbox{ker}} S=\mathop{\mbox{Im}} S$, то $S^2=0$, противоречие. Значит,
   $\mathop{\mbox{ker}} S$ и $\mathop{\mbox{Im}} S$ --- это разные одномерные подпространства $\mathbb{C}^2$. Пусть $v \in \mathop{\mbox{Im}} S$ --- ненулевой вектор. Тогда $Sv$ --- ненулевой вектор и $Sv \in \mathop{\mbox{Im}} S.$ Отсюда получаем
   $$Sv=\alpha v, \alpha \ne 0.$$
   Но тогда
   $$S^4v=\alpha^4v\ne 0.$$
   Однако $S^4=T^2=0.$ Противоречие.

    Есть и другой, более алгебраический, способ это доказывать. У оператора $S$ есть характеристический многочлен $p$ второй степени:
    $$p(S)=0.$$
    С другой стороны, $S^4=T^2=0.$ Поделив над полем $\mathbb{C}$ многочлен $t^4$ с остатком на $p(t)$, получим два случая
     \begin{itemize}
      \item В остатке получается некоторый ненулевой многочлен степени не выше первой. Тогда $S$ пропорционален единичному оператору. Это протииворечит равенству
      $S^2=T$.
      \item Многочлен $t^4$ делится на $p(t)$ нацело. Это может быть, только если $p(t)=t^2$. Но тогда $S^2=0$, что противоречит равенству $S^2=T$.
     \end{itemize}

     2) То же самое верно для любого $n \ge 2$: не существует $S$ со свойством $S^n=T$. Для этого можно доказать более общее утверждение: если
     $S\colon \mathbb{C}^2\to\mathbb{C}^2$ нильпотентен, $S^n=0$, то $S^2=0.$ Оба способа доказательства из предыдущего пункта тривиально обобщаются. \\
     3) Для $A=C(\mathbb{R})$ задача построения функционального исчисления от оператора $T$ неразрешима. Действительно, иначе имеем
     $$\gamma_A(\sqrt[3]{t})^3=\gamma_A(t)=T.$$
     Это противоречит пункту 2).
\item 1) Для $f\in C^1(U)$ положим
 $$\gamma_A(f)=f(0)+f'(0)T.$$ Имеем
 \begin{multline*}
\gamma_A(fg)=f(0)g(0)+(f(0)g'(0)+f'(0)g(0))T=\\=(f(0)+f'(0)T)(g(0)+g'(0)T)=\gamma_A(f)\gamma_A(g)
 \end{multline*}
 в силу $T^2=0.$ \\
 2) Перейдём в базис, в котором наш оператор $T$ представляется в жорданово форме. Тогда в этом базисе $T=D+N$, где $D$ диагональный, $N^n=0$, и вдобавок
 $D$ и $N$ коммутируют. Положим для
 $f\in C^{n-1}(U)$
 $$f(T)=f(D)+f'(D)N+\ldots+\frac{f^{(n-1)}(D)}{(n-1)!}N^{n-1}.$$
 Здесь $f^{(k)}(D)$ определяются как обычно для диагонального оператора. Легко проверить, что
 $$(fg)(T)=f(T)g(T).$$
 Вот и построили функциональное исчисление.
\end{enumerate}
\item Спектр.
\begin{enumerate}[label=2.\arabic*.]
\item У обратимого элемента есть лишь один обратный.
Допустим, у элемента $a$ два обратных, $b$ и $c$. Имеем
$$ab=ba=1, ac=ca=1.$$
Тогда
$$c = 1 \times c = (ba)c=b(ac)=b.$$
\item
1) $a$ обратим слева. $a_l^{-1}$ не обязательно единственно. Например, рассмотрим $l_2$ и алгебру всех ограниченных линейных операторов на нём.
Пусть оператор $a$ действует сдвигом:
$$a(x_0, x_1, x_2, \ldots)=(0, x_0, x_1, x_2, \ldots).$$
Тогда любой оператор $b_\alpha, \alpha \in \mathbb{C}$ вида
$$b_\alpha(x_0, x_1,x_2,\ldots)=(\alpha x_0+x_1, x_2, x_3,\ldots)$$
является левым обратным для $a$:
$$b_\alpha a=1.$$
2) Если $a$ обратим слева и справа, то он обратим.
$$a_r^{-1}=(a_l^{-1}a)a_r^{-1}=a_l^{-1}(aa_r^{-1})=a_l^{-1}.$$
Итак, $a_r^{-1}=a_l^{-1}$, и всё ясно. \\
3) Если $A$ конечномерна и $a\in A$  обратим слева, то он обратим.
Для любого элемента $b \in A$, $bA$ --- это линейное подпространство в $A$. Это подпространство совпадает с $A$ тогда и только тогда, когда его размерность равна размерности $A$. Наш $a$ обратим слева. Пусть $h$ --- левый обратный для $a$. Если размерность $aA$ меньше размерности $A$, то размерность
$haA$ тем более не выше. Но этого быть не может, так как $haA=A$. Значит, $aA=A$.
Итак, в виде $ax$ можно представить любой элемент $A$, поскольку $aA=A$. Тогда существует $y\in A$, такое, что $ay=1$. Значит, у $a$ есть и правый обратный. По предыдущему пункту, $a$ обратим. \\
4) Для произвольной алгебры $A$ это неверно, пример тот же, что в пункте 1). Там оператор $a$ имеет левый обратный, но правого обратного не имеет.
\item Для произвольного нормированного пространства из биективности не следует обратимость. Возьмём в роли $E$ подпространство $l_2$, состоящее из
всех финитных последовательностей
$$(x_1, \ldots, x_m, 0, 0, \ldots).$$
На этом пространстве оператор $A$, заданный равенством
$$A(x_1, \ldots, x_m, 0, 0, \ldots)=(x_1, x_2/2, x_3/3, \ldots, x_m/m, 0, 0, \ldots)$$
ограничен и биективен, но необратим. Его обратный в теоретико-множественном смысле неограничен.
\end{enumerate}

\end{enumerate}

\section{Кириллов-Гвишиани}
\begin{enumerate}
\setcounter{enumi}{118}
\item Утверждение очевидно для открытых множеств. Достаточно доказать для замкнутых, потому что каждое измеримое можно приблизить
изнутри замкнутыми (регулярность меры), и отсюда легко получить нужное утверждение. Дальше считаем, что $X$ замкнуто.

Сначала покажу неправильное решение. Оно с помощью леммы, но лемма не доказывается.

\begin{lemma}
 Для любого $N>0$ существуют $C=C(N)>0, \varepsilon_0>0$ такие, что при любом $\varepsilon \le \varepsilon_0$
 $$\mu\{x\in X \mid \mu\{y\notin X\colon |y-x|<\varepsilon\}>\varepsilon/N\}<C\varepsilon.$$
\end{lemma}
 \begin{proof}
  Рассмотрим функции
  $$h_{\varepsilon}(x)=\frac{\mu\{y\notin X \colon |y-x|<\varepsilon\}}{2\varepsilon}$$.
  Ясно, что
  \begin{multline*}
   \int\limits_0^1 h_{\varepsilon}(x)dx=
   \frac{1}{2\varepsilon}\int\limits_0^1 dx \int\limits_0^1\mathbbm{1}_{y\notin X}\mathbbm{1}_{|y-x|<\varepsilon}dy=\\
   =\frac{1}{2\varepsilon}\int\limits_0^1 \mathbbm{1}_{y\notin X} dy \int\limits_0^1\mathbbm{1}_{|y-x|<\varepsilon}dx \le
   \int\limits_0^1 \mathbbm{1}_{y\notin X} dy=\mu([0,1]\setminus X).
  \end{multline*}
  Также ясно, что
  $$\lim\limits_{\varepsilon\to 0}h_{\varepsilon}(x)=1, x\in [0,1]\setminus X$$
  (здесь мы воспользовались открытостью $[0,1]\setminus X$).
  Поэтому
  $$\int\limits_{[0,1]\setminus X}h_{\varepsilon}(x)dx \to \mu([0,1]\setminus X), \varepsilon \to 0.$$
  Вычитая полученные равенства, получаем
  $$\int\limits_{X}h_{\varepsilon}(x)dx \to 0, \varepsilon \to 0.$$
  Это, в частности, означает
  $$\mu\{x \in X \colon h_{\varepsilon}(x)>1/(2N)\} \le 2N \int\limits_{X}h_{\varepsilon}(x)dx = No(1), \varepsilon\to 0.$$
  Но нам этой оценки не хватает, нам нужна скорость сходимости.
 \end{proof}


 Как из леммы вывести задачу? Пусть дано некоторое $\alpha, 0 < \alpha<1$. Выберем $N$ так, что
 $$1/N<\alpha/2.$$
 Фиксируем $q, q_0<q<1$, где
 $$2(1/q_0-1)=\alpha/2.$$
 Тогда
 $$2(1/q-1) \le \alpha/2.$$
Выберем $\varepsilon_1>0$ так, чтобы при $\varepsilon \le \varepsilon_1$ было
$$\mu\{x\in X \mid \mu\{y\notin X\colon |y-x|<\varepsilon\}>\varepsilon/N\}<C\varepsilon,$$
где $C=C(N)$ из леммы не зависит от $\varepsilon_1$ (мы можем уменьшать $\varepsilon_1$, не меняя $C$).

Выберем последовательность $\varepsilon_2=q\varepsilon_1,\varepsilon_3=q^2\varepsilon_1,\ldots$. Для каждого $\varepsilon_n$ имеем
$$\mu\{x\in X \mid \mu\{y\notin X\colon |y-x|<\varepsilon_n\}>\varepsilon_n/N\}<C\varepsilon_n.$$
Отсюда, суммируя геометрическую прогресию,
$$\mu\{x\in X \mid \exists n \in \mathbb{N} \colon \mu\{y\notin X\colon |y-x|<\varepsilon_n\}>\varepsilon_n/N\}<\frac{C\varepsilon_1}{1-q}.$$
Пусть
$$A=\{x\in X \mid \exists n \in \mathbb{N} \colon \mu\{y\notin X\colon |y-x|<\varepsilon_n\}>\varepsilon_n/N\}.$$
Тогда по доказанному
$$\mu(A)\le \frac{C\varepsilon_1}{1-q}.$$
Пусть $x\in X\setminus A$. Рассмотрим произвольное $\varepsilon< \varepsilon_1$. Найдём $n$ такое, что
$$\varepsilon_{n+1}\le \varepsilon<\varepsilon_n.$$
Имеем
\begin{multline*}
 \mu\{y\notin X\colon |y-x|<\varepsilon\}\le \mu\{y\notin X\colon |y-x|<\varepsilon_{n+1}\} + 2(\varepsilon-\varepsilon_{n+1})\le \\
 \le \varepsilon_{n+1}/N+2(\varepsilon_n-\varepsilon_{n+1})=(1/N+2(1/q-1))\varepsilon_{n+1} \le \\
 \le (1/N+2(1/q-1))\varepsilon \le \alpha \varepsilon.
\end{multline*}
Итак, мы доказали:
$$\mu\{x \in X \mid \exists \varepsilon<\varepsilon_1\colon \enskip \mu\{y\notin X \colon |y-x|<\varepsilon\}>\alpha\varepsilon\}\le \frac{C\varepsilon_1}{1-q}.$$
При этом $\varepsilon_1$ можно выбрать сколь угодно малым.
Это значит, что
$$\mu\{x \in X \mid \exists \varepsilon<\varepsilon_1\colon \enskip \mu\{y\notin X \colon |y-x|<\varepsilon\}>\alpha\varepsilon\}=0.$$
Значит,
$$\mu\left\{x\in X\mid \varlimsup_{\varepsilon \to 0}\frac{\mu\{y\notin X \colon |y-x|<\varepsilon\}}{2\varepsilon}>\frac{\alpha}{2}\right\}=0.$$
В силу произвольности $\alpha$, это означает, что
$$\mu\left\{x\in X\mid \varlimsup_{\varepsilon \to 0}\frac{\mu\{y\notin X \colon |y-x|<\varepsilon\}}{2\varepsilon}>0\right\}=0.$$
А это уже есть то, что нам нужно. Только опирается оно на неправильную лемму. Что же делать?

Я пробовал также рассуждения с множеством $X_\varepsilon$ --- $\varepsilon$-окрестностью $X$. Но эти рассуждения упираются в доказательство
сходимости ряда
$$\sum\limits_{k=1}^{\infty}\mu(X_{q^k}\setminus X)$$
для $0<q<1$, а эту сходимость доказать не удаётся.

Кажется, можно доказать проще. Пусть $0<\alpha<1$. Оценим меру подмножества $X$, на котором
$$\varlimsup_{\varepsilon \to 0}\frac{\mu\{y\notin X \colon |y-x|<\varepsilon\}}{2\varepsilon}>\alpha.$$
Пусть
$$A=\left\{x\in X\mid \varlimsup_{\varepsilon \to 0}\frac{\mu\{y\notin X \colon |y-x|<\varepsilon\}}{2\varepsilon}>\alpha\right\}.$$
Выберем некоторое $\varepsilon>0$.
Пусть
$$X_\varepsilon=\bigcup_{x\in X}(x-\varepsilon, x+\varepsilon).$$
Построим покрытие $A$ интервалами следующим образом. У каждой точки $x\in A$ выберем окрестность $(x-\delta, x+\delta)$ меры меньше $\varepsilon$, т.е. $2\delta<\varepsilon$, такую, что
$$\frac{\mu\{y\notin X \colon |y-x|<\delta\}}{2\delta}>\alpha.$$
Заметим, что $A$ не обязано быть замкнутым, поэтому выбрать конечное подпокрытие мы не можем. Надо рассуждать тоньше.
Мы зато можем выбрать счётное подпокрытие (за счёт существования счётной базы топологии), что и сделаем.
Итак, пусть наше покрытие есть
$$\bigcup_{i=1}^\infty (x-\delta_i, x+\delta_i).$$
Фиксируем $s>0$. Выберем $N$ так, чтобы
$$\bigcup_{i=1}^N (x_i-\delta_i, x_i+\delta_i)$$
покрывало всё множество $A$, за исключением, быть может, множества меры $s$.
Из этих $N$ интервалов $(x_i-\delta_i, x_i+\delta_i), 1\le i\le N$ выкинем некоторые так, чтобы каждая точка была покрыта не более чем двумя интервалами, а
покрываемое множество осталось без изменений (это
можно сделать, т.к. как только некоторая точка покрыта тремя интервалами, один из этих интервалов содержится в объединении двух других, и его можно выкинуть, не меняя покрываемого множества). Новое полученное множество интервалов будем обозначать
$$\{(x'_i-\delta'_i,x'_i+\delta'_i), 1\le i \le N'\}, N'\le N.$$
Имеем
$$\mu(A)-s \le \sum\limits_{i=1}^{N'} 2\delta'_i,$$
$$\alpha (\mu(A)-s) \le \alpha \sum\limits_{i=1}^{N'} 2\delta'_i \le \sum\limits_{i=1}^{N'} \mu\{y\notin X \colon |y-x'_i|<\delta'_i \} \le 2\mu(X_\varepsilon \setminus X).$$
В силу произвольности $s$, для замкнутого $X$ в силу $\bigcap_{\varepsilon>0}X_{\varepsilon}=X$ получаем
$$\alpha \mu(A) \le 2\mu(X_\varepsilon \setminus X).$$
В силу произвольности выбора $\varepsilon$
$$\mu(A)=0.$$
А это и есть то, что нам нужно. Для замкнутых $X$ доказали, а для всех остальных применяем регулярность меры.


\setcounter{enumi}{133}
 \item Предположим, что
 $$\sup_{A\in \mathfrak{A}}\mu A=+\infty.$$
 Рассмотрим следующее свойство заряда $\mu$. У любого множества $A\in \mathfrak{A}$, для которого $\sup_{B\subseteq A}\nu B=+\infty$,
 для любого $C>0$ существует $A_1\subseteq A$ такое, что $\nu A_1 >C$ и $\sup_{B\subseteq A_1}\nu B=+\infty$.
 Выполнено это свойство или нет? Если выполнено, то мы можем, пользуясь им, по индукции построить вложенную последовательность множеств
 $$X=A_1\supseteq A_2\supseteq A_3\supseteq \ldots, \nu A_{i+1}>\max(\nu A_i, 2^i), \sup_{B\subseteq A_i}\nu B=+\infty.$$
 Но для такой последовательности множеств
 $$\nu(\cap_{i=1}^\infty A_i)=\nu A_1-\sum\limits_{i=1}^\infty \nu(A_i \setminus A_{i+1})=\lim\limits_{i\to\infty}\nu A_i=+\infty,$$
 что противоречит определению заряда.
 Значит, рассматриваемое свойство не выполнено. Существует $A\in \mathfrak{A}$ и некоторое $C>0$, такие, что
 $$\sup_{B\subseteq A}\nu B=+\infty, \forall A_1 \subseteq A \enskip \nu A_1 > C \Rightarrow \sup_{B\subseteq A_1}\nu B<+\infty.$$
 Но тогда мы можем выбрать бесконечную последовательность не\-пе\-ре\-се\-кающих\-ся $A_1, A_2, A_3, \ldots$, лежащих в $A$, такую, что
 $\nu A_i > C.$ Действительно, если мы уже выбрали $A_1, \ldots, A_n$, то можно выбрать и $A_{n+1}$, поскольку существует $B\subseteq A$
 сколь угодно большого заряда, но $\nu(B\cap A_i)$ ограничены, то $\nu(B\setminus(A_1\cup \ldots A_n))$ может быть сколь угодно большим. А значит, может быть больше $C$.
 Для такого $B$ мы берём $A_{n+1}=B\setminus(A_1\cup\ldots A_n).$ Вот и доказали: если такая последовательность $A_1, A_2, A_3, \ldots$ есть,
 то $\nu(\cup_{i=1}^\infty A_i)$ может быть только бесконечным. Снова противоречие с определением заряда.

 \item Задача пахнет леммой Бореля-Кантелли!
 Зададим на сигма-алгебре $\mathfrak{A}$ функции
 $$\nu_+(A)=\sup_{B\subseteq A}\nu(A), \nu_-(A)=-\inf_{B\subseteq A}\nu(A).$$
 Нетрудно показать, что $\nu_+, \nu_-$ --- меры на $\mathfrak{A}$, причём конечные в силу предыдущей задачи.
 Выберем последовательность множеств $A_n$ таким образом, что
 $$\nu A_n > \sup_{B\subseteq X}\nu B-\frac{1}{2^n}.$$
 Ясно, что
 $$\nu_+(A_n)\ge \nu_+(X)-\frac{1}{2^n}, \nu_+(X\setminus A_n)\le \frac{1}{2^n}, \nu_{-}(A_n) \le \frac{1}{2^n}.$$
 Тогда в силу леммы Бореля-Кантелли,
 $$\nu_+(\varliminf A_n)=\nu_+(X)-\nu_+(\varlimsup(X\setminus A_n))=\nu_+(X), \nu_-(\varliminf A_n)=0.$$
 Ну, отсюда и следует, что
 $$\nu(\varliminf A_n)=\sup_{B \subseteq X}\nu B.$$
 Вот и доказали, что супремум достигается.

 В решении из Кириллова-Гвишиани другая идея: если у нас есть множество положительного заряда, то мы можем удалять из него любые множества
 отрицательного заряда, и это не уменьшит его заряд. Значит, правильно организовав процедуру удаления, мы можем получить ``чисто положительное''
 множество $A$, у которого все подмножества имеют неотрицательный заряд, а заряд самого $A$ строго положителен. Ясно, что за такими множествами и производится охота. То есть можно взять ``чисто положительное'' множество максимального заряда и показать, что если задача не решена, то его можно чуть увеличить --- за счёт описанной конструкции.
\end{enumerate}


\end{document}
