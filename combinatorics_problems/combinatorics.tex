\documentclass[a4paper,12pt]{article}
\usepackage[cp1251]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{bbm}
\usepackage{enumitem}


\newtheorem{theorem}{Теорема}[section]
\newtheorem{lemma}[theorem]{Лемма}
\newtheorem{proposition}[theorem]{Предложение}
\newtheorem{claim}[theorem]{Утверждение}
\newtheorem{corollary}[theorem]{Следствие}

%opening
\title{Комбинаторика --- задачи}
\author{}
\date{}


\begin{document}
\maketitle

Исходная мотивировка для решения задач по комбинаторике --- научиться быстро доказывать лемму
Сауэра.

\section{Олимпиадные задачи}
\begin{enumerate}
 \item Задача 96.100 из петербургских мат олимпиад. Будем строить множество $B$, по очереди добавляя в него точки из $A_i$. На $i$-м шаге мы добавляем точки из $A_i$ в количестве
 $$i-|A_i\cap (\cup_{k=1}^{i-1}A_k)|.$$
 При этом все добавляемые точки мы выбираем так, чтобы они не лежали в
 $$A_1, A_2, \ldots, A_{i-1}, A_{i+1}, \ldots, A_{i+k(i)},$$
 где $k(i)=\frac{i^2-i}{2}.$
 Почему таких точек найдётся хотя бы $i$?
 Потому что в пересечении $A_i$ с указанными множествами не более
 $$2(1+2+\ldots+(i-1))+2ik(i)$$
 элементов. Необходимо, чтобы
 $$2(1+2+\ldots+(i-1))+2ik(i)\le i^3-i,$$
 $$(i-1)i+2ik(i) \le i^3-i,$$
 $$i-1+2k(i) \le i^2-1,$$
 $$k(i)\le \frac{i^2-i}{2}.$$
 Что остаётся проверить? Что на каждом этапе, когда мы проходим множество $A_p$, количество точек,
 которые уже выбраны в $A_p$, то есть количество выбранных точек в
 $$A_p\cap (\cup_{i=1}^{p-1}A_i),$$
 не превосходит $p$.
 При этом, если $i+k(i) \ge p$, $i<p$, то те точки, что мы выбирали на $i$-м шаге, когда рассматривали $A_i$, в $A_p$ не лежат. Значит, остаётся проверить, что количество уже выбранных точек в
 $$\cup_{i=1}^s A_i$$
 не превосходит $p$, где $s$---максимальное целое, такое, что
 $$s+k(s)=\frac{s^2+s}{2}<p.$$
 Но количество выбранных точек в $A_i$ есть $i$, и общее количесво выбранных точек в
 $$\cup_{i=1}^s A_i$$
 не превосходит
 $$1+2+\ldots + s=\frac{s^2+s}{2},$$
 а это меньше $p$ по выбору $s$. Всё доказано.
\end{enumerate}


\end{document}
